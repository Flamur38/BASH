#!/usr/bin/env bash
set -e

# ----------------------------------------
# colors & logging
# ----------------------------------------
GREEN="\e[1;32m"
CYAN="\e[1;36m"
YELLOW="\e[1;33m"
RESET="\e[0m"

PREFIX="SECURITY"

section() {
  echo -e "\n${CYAN}[${PREFIX}]${RESET} ${CYAN}$1${RESET}"
}

log() {
  echo -e "  ${GREEN}â€¢${RESET} $1"
}

warn() {
  echo -e "  ${YELLOW}!${RESET} $1"
}

# ----------------------------------------
# update system
# ----------------------------------------
section "Update system"
log "Updating package index"
sudo apt update

# ----------------------------------------
# core networking & investigation utilities
# ----------------------------------------
section "Core networking & investigation utilities"
sudo apt install -y \
  tcpdump \
  nmap \
  netcat-openbsd \
  socat \
  jq \
  whois \
  dnsutils

# ----------------------------------------
# zeek
# ----------------------------------------
section "Zeek"
warn "Skipping Zeek (not available on Ubuntu 24.04)"

# ----------------------------------------
# blue-team defensive tools
# ----------------------------------------
section "Blue-team defensive tools"
sudo apt install -y \
  suricata \
  auditd \
  fail2ban \
  scalpel \
  steghide \
  rsyslog \
  logrotate \
  sysstat \
  htop \
  lsof \
  strace \
  inotify-tools

# ----------------------------------------
# pentesting tools
# ----------------------------------------
section "Pentesting tools"
sudo apt install -y \
  hydra \
  gobuster \
  nikto \
  sqlmap \
  wfuzz \
  smbclient

# ----------------------------------------
# malware & file analysis tools
# ----------------------------------------
section "Malware & file analysis tools"
sudo apt install -y \
  yara \
  exiftool \
  binwalk \
  binutils

# ----------------------------------------
# snap packages
# ----------------------------------------
section "Snap packages"
sudo snap install volatility-phocean
sudo snap install autopsy
sudo snap install crackmapexec
sudo snap install metasploit-framework

section "Security tools installation completed"

