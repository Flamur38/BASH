#!/usr/bin/env bash

if [ -f /etc/apt/sources.list.d/spotify.list ]; then
  sudo sed -i 's|^deb .*spotify.com.*|#&|' /etc/apt/sources.list.d/spotify.list
fi


sudo apt update
sudo add-apt-repository ppa:neovim-ppa/unstable -y
sudo apt update && sudo apt install -y \
  neovim ninja-build gettext cmake unzip curl build-essential git \
  lua5.1 liblua5.1-0-dev python3 python3-pip cargo \
  ripgrep fd-find nodejs npm

# Link fd-find as fd
mkdir -p ~/.local/bin
ln -sf "$(which fdfind)" ~/.local/bin/fd

# Add ~/.local/bin to PATH (Zsh only, as requested)
echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.zshrc
export PATH="$HOME/.local/bin:$PATH"


nvim --headless "+Lazy! sync" +qa

